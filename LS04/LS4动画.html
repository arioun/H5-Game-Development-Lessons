<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>动画</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script>
        window.onload=function(){
           
            var canvas=document.getElementById('canvas');
            var context=canvas.getContext('2d');
            var ball = { x: 20, y: 20 };

            var speed = 5;
            var angle = 45;
            var radians = angle * Math.PI / 180;
            var xunits = Math.cos(radians) * speed;
            var yunits = Math.sin(radians) * speed;
            var animationHandle = requestAnimationFrame(drawScreen);
            function drawScreen() {
                //绘制背景
                context.fillStyle = '#EEEEEE';
                context.fillRect(0, 0, canvas.width, canvas.height);
                context.strokeStyle = '#000000';
                context.strokeRect(1, 1, canvas.width - 2, canvas.height - 2);

                //新位置
                ball.x += xunits;
                ball.y += yunits;

                context.fillStyle = "#000000";
                context.beginPath();
                context.arc(ball.x, ball.y, 15, 0, Math.PI * 2, true);
                context.closePath();
                context.fill();

                //动画循环
               animationHandle= requestAnimationFrame(drawScreen);
            }
            canvas.onclick=function(){
                cancelAnimationFrame(animationHandle);
            }
          
        }
    </script>
</head>
<body>
    <canvas id="canvas" width="500px" height="500px"></canvas>
</body>
</html>